<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PebbleTools - Temperature</title>
<style>
  body {
    background-color: #121212;
    color: #eee;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding: 20px;
    margin: 0;
  }
  h2 { margin-bottom: 16px; }
  .unit-row {
    display: flex;
    align-items: center;
    margin-bottom: 16px;
  }
  label {
    width: 110px;
  }
  input {
    width: 130px;
    padding: 6px 10px;
    font-size: 1rem;
    border: 1.5px solid #555;
    border-radius: 6px;
    background-color: #222;
    color: #eee;
  }
  input:focus {
    outline: none;
    border-color: #3a9bf0;
    box-shadow: 0 0 6px #3a9bf0;
    background-color: #2a2a2a;
  }
</style>
</head>
<body>

<h2>Temperature Converter</h2>

<div class="unit-row">
  <label for="celsius">Celsius (°C)</label>
  <input type="number" id="celsius" step="any" />
</div>
<div class="unit-row">
  <label for="fahrenheit">Fahrenheit (°F)</label>
  <input type="number" id="fahrenheit" step="any" />
</div>
<div class="unit-row">
  <label for="kelvin">Kelvin (K)</label>
  <input type="number" id="kelvin" step="any" min="0" />
</div>

<script>
let isUpdating = false;

function cToF(c) { return c * 9/5 + 32; }
function fToC(f) { return (f - 32) * 5/9; }
function cToK(c) { return c + 273.15; }
function kToC(k) { return k - 273.15; }

function updateFromC(c) {
  document.getElementById("fahrenheit").value = (cToF(c)).toFixed(2);
  document.getElementById("kelvin").value = (cToK(c)).toFixed(2);
}
function updateFromF(f) {
  document.getElementById("celsius").value = (fToC(f)).toFixed(2);
  document.getElementById("kelvin").value = (cToK(fToC(f))).toFixed(2);
}
function updateFromK(k) {
  document.getElementById("celsius").value = (kToC(k)).toFixed(2);
  document.getElementById("fahrenheit").value = (cToF(kToC(k))).toFixed(2);
}

document.getElementById("celsius").addEventListener("input", e => {
  if(isUpdating) return;
  isUpdating = true;
  const val = parseFloat(e.target.value);
  if(!isNaN(val)) updateFromC(val);
  else {
    document.getElementById("fahrenheit").value = "";
    document.getElementById("kelvin").value = "";
  }
  isUpdating = false;
});

document.getElementById("fahrenheit").addEventListener("input", e => {
  if(isUpdating) return;
  isUpdating = true;
  const val = parseFloat(e.target.value);
  if(!isNaN(val)) updateFromF(val);
  else {
    document.getElementById("celsius").value = "";
    document.getElementById("kelvin").value = "";
  }
  isUpdating = false;
});

document.getElementById("kelvin").addEventListener("input", e => {
  if(isUpdating) return;
  isUpdating = true;
  const val = parseFloat(e.target.value);
  if(!isNaN(val)) updateFromK(val);
  else {
    document.getElementById("celsius").value = "";
    document.getElementById("fahrenheit").value = "";
  }
  isUpdating = false;
});
</script>

</body>
</html>
